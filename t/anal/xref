#!/bin/sh
# LGPL - Copyright (C) 2014 Maijin

for a in . .. ../.. ; do [ -e $a/tests.sh ] && . $a/tests.sh ; done

NAME="axt udis86"
BROKEN=
FILE=../../bins/elf/main
IGNORE_ERR=1
ARGS=
CMDS='e scr.color=false
e scr.wheel = false
aa
axt @ str.Hello_World'
EXPECT='d 0x40050a mov edi, str.Hello_World
'
run_test

NAME="axt capstone x86"
BROKEN=
FILE=../../bins/elf/main
IGNORE_ERR=1
BROKEN=1
ARGS=
CMDS='e asm.arch = x86.cs
e asm.anal = x86.cs
e scr.color=false
e scr.wheel = false
aa
axt @ str.Hello_World'
EXPECT='d 0x40050a mov edi, str.Hello_World
'
run_test