#!/bin/sh

# GPL 3+ - Copyright (C) 2012  pancake

[ -e tests.sh ] && . ./tests.sh || . ../tests.sh

NAME='#md5, #sha1'
FILE=malloc://100
ARGS=
CMDS='
b 100
#md5 64
#md5 99
w hello world
#md5 11
#md5 @:11
#sha1 11
#crc32
#pcprint
'
EXPECT='3b5d3c7d207e37dceeedd301e35e2e58
fa8715078d45101200a6e2bf7321aa04
5eb63bbbe01eeed093cb22bb8f5acdc3
5eb63bbbe01eeed093cb22bb8f5acdc3
2aae6c35c94fcfb415dbe95f408b9ce91ee846ed
afe4c6d0
11
'
run_test

NAME='#md5, #sha1 with sugar'
FILE=-
ARGS=
CMDS='
#md5@s:hello
#md5 @ s:hello
#md5@b:01020304
'
EXPECT='5d41402abc4b2a76b9719d911017c592
5d41402abc4b2a76b9719d911017c592
08d6c05a21512a79a1dfeb9d2a8f262f
'
run_test
